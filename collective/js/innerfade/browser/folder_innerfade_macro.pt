<div id="InnerfadeContainer" tal:define="images view/getImages">

    <div id="Innerfade">
        <tal:repeat repeat="image images">
            <div class="innerfade" tal:attributes="id string:ifblock${repeat/image/index}">
                <img alt="" src="" tal:define="scale image/@@images"
                     tal:replace="structure python: scale.scale('image', width=view.getWidth(), height=view.getHeight()).tag()" />

                <div class="overlay"></div>
                <div class="caption">
                    <div class="title" tal:define="link python:view.getLink(image.id)">
                        <h2 tal:content="image/Title">IMAGE TITLE</h2>
                        <a href="" tal:condition="link"
                                   tal:attributes="
                                                   class string:innerfade-button">
                            <span tal:content="link/Title"/><img alt="" src="++resource++collective.js.innerfade.images/arrow_right_6x17.png"/>
                        </a>
                    </div>
                    <p tal:content="image/Description">
                        IMAGE DESCRIPTION
                    </p>
                </div>
            </div>
        </tal:repeat>
    </div>

    <div id="InnerfadeNavigation">
        <tal:repeat repeat="image images">

            <tal:navblock tal:define="link python:view.getLink(image.id)">
                <a href="#" tal:condition="link"
                            tal:attributes="class string:ifnav imglink;
                                            href link/getRemoteUrl;
                                            id string:ifnav${repeat/image/index}">
                    <img alt="" src=""  tal:define="scale image/@@images"
                         tal:replace="structure python: scale.scale('image', width=120, height=67).tag()" />
                </a>
                <div class="ifnav imgnolink"
                     tal:attributes="id string:ifnav${repeat/image/index}"
                     tal:condition="not:link">
                    <img alt="" src="" tal:define="scale image/@@images"
                         tal:replace="structure python: scale.scale('image', width=120, height=67).tag()" />
                </div>
            </tal:navblock>
        </tal:repeat>

        <input type='hidden' name='width' tal:attributes="value view/getWidth" />
        <input type='hidden' name='height' tal:attributes="value view/getHeight" />
        <input type='hidden' name='animationtype' tal:attributes="value view/getAnimationtype" />
        <input type='hidden' name='speed' tal:attributes="value view/getSpeed" />
        <input type='hidden' name='timeout' tal:attributes="value view/getTimeout" />
        <input type='hidden' name='innerfade_type' tal:attributes="value view/getInnerfadeType" />
    </div>
</div>
